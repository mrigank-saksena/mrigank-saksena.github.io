<!DOCTYPE HTML>
<html lang="en-US">
    <head>
            
        <title>TWD - Thinking With Data</title>
        <meta https-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta name="description" content="Template by Colorlib" />
        <meta name="keywords" content="HTML, CSS, JavaScript, PHP" />
        <meta name="author" content="Colorlib" />
        <!--<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">-->
        <meta name="viewport" content="width=1024">
        <link rel="shortcut icon" href="images/favicon.png" />
        <link href='https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700,700i,900|Montserrat:400,700|PT+Serif' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" type="text/css"  href='css/clear.css' />
        <link rel="stylesheet" type="text/css"  href='css/common.css' />
        <link rel="stylesheet" type="text/css"  href='css/font-awesome.min.css' />
        <link rel="stylesheet" type="text/css"  href='css/carouFredSel.css' />
        <link rel="stylesheet" type="text/css"  href='css/prettyPhoto.css' />
        <link rel="stylesheet" type="text/css"  href='css/sm-clean.css' />
        <link rel="stylesheet" type="text/css"  href='style.css' />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.10/styles/agate.min.css"/>

        <!--[if lt IE 9]>
                <script src="js/html5.js"></script>
        <![endif]-->

        <style>
            body {
                background-color: #19134E;
            }
        </style>
       
        <script type="text/javascript">
            function toggleLessonbar(){
             document.getElementById("lessonbar").classList.toggle('active');
            }
        </script>    
    </head>

        <title>TWD - Thinking With Data</title>
        <body> 
           
           
            <div class="menu-wrapper center-relative">
                <nav id="header-main-menu">
                    <div class="mob-menu">MENU</div>
                    <ul class="main-menu sm sm-clean">
                        <li><a href="index.html#home">Home</a></li>
                        <li><a href="index.html#services">Outline</a></li>
                        <li><a href="#lessonbanner">Lessons</a></li>                    
                    </ul>
                </nav>
            </div>
           
                
            
            <div id="lessonbanner" class="section lessons-intro-page">
                <div class="block content-1170 center-relative center-text">
                    <img class="top-logo" src="images/logo.png" alt="TWD" />
                    <br>
                    <h1 class="big-title">Lessons</h1>
                    <!--<button class="lesson-button" onclick="toggleLessonbar()"> View Lessons </button>-->
                </div>
            </div>
            <div></div>
            <div id="lessonbar">
                <div class="menu-button" onclick="toggleLessonbar()">
                    <a>
                    <span></span>
                    <span></span>
                    <span></span>
                    </a>
                </div>    
                <ul>
                    <li><h1 class="lesson-topic">Queries</h1></li>
                    <li>Setup and Introduction</li>
                    <li>Relational Databases</li>
                    <li>SQL Commands</li>
                    <li>Writing SQL Queries</li>
                    <li>Useful Resources</li>
                    <li><h1 class="lesson-topic"><a class="lesson-item" href="#DP">Data Preparation</a></h1></li>
                    <li><a class="lesson-item" href="#Configuring-Pandas">Setup and Introduction</a></li>
                    <li><a class="lesson-item" href="#Structuring-Data">Structuring Data</a></li>
                    <li><a class="lesson-item" href="#Missing">Dealing with Missing Data</a></li>
                    <li><a class="lesson-item" href="#1Resources">Useful Resources</a></li>
                    <li><h1 class="lesson-topic">Data Exploration</h1></li>
                    <li>Setup and Introduction</li>
                    <li>Temp</li>
                    <li>Useful Resources</li>
                    <li><h1 class="lesson-topic">Data Modeling</h1></li>
                    <li>Setup and Introduction</li>
                    <li>Temp</li>
                    <li>Useful Resources</li>
                </ul>
            </div>






            <!-- POSTS -->

            <div id="lesson-post" class="post_background">
                
                <!-- QUERIES TITLE -->
                <h1 id = "queries" class="topic_title">Queries </h1>
                <!-- QUERIES TITLE -->


                <div id="SQL-Setup">
                <!-- SETUP AND INSTRUCTIONS -->
                <h1 class="post_title"> Setup and Instructions </h1>
                <p class="lesson-text">    In order to get started, make sure you have your environment set up. To do this, I recommend referencing these links:</p>
                
                <ul class = "bullets">
                    <li>  You can download MySQL <a href="https://dev.mysql.com/downloads/mysql/"><u>here</u></a>.</li>

                    <li>  One free interface I find very useful in writing SQL commands is PopSQL. Which you can download 

                        <a href="https://popsql.com/"><u>here</u></a>.</li>
                </ul>
                <p class="lesson-text">     Before we dive into writing SQL queries, it's important to understand what SQL and MySQL are.
                        SQL represents the syntax used in manipulating relational databases, whereas MYSQL is a RDBMS (Relational Database Management System).
                        In other words MySQL uses Structured Query Language to manipulate databases.
                </p>
                </div>
                    
                <div id="RD">
                <!-- RELATIONAL DATABASES -->
                <h1 class="post_title"> Relational Databases </h1>
                <p class="lesson-text">    
                </p>
                <p class="lesson-text">    
                    </p>
                
          
                </div>


















                <!-- DATA PREPERATION TITLE -->
                <h1 id = "DP" class="topic_title">Data Preperation </h1>
                <!-- DATA PREPERATION TITLE -->


                <div id="Configuring-Pandas">
                <!-- SETUP AND INSTRUCTIONS -->
                <h1 class="post_title"> Setup and Instructions </h1>
                <p class="lesson-text">    In order to get started, make sure you have your environment set up. In order to do this, I recommend referencing these links:</p>
                
                <ul class = "bullets">
                    <li>  You can download Python <a href="https://www.python.org/downloads/"><u>here</u></a>.</li>

                    <li>  Most Python code written here will be written on a Jupyter Notebook. You can reference 
                        <a href="https://jupyter.org/install"><u>this guide</u></a> on Jupyter's site for installation.</li>
  
                    <li>  Some important libraries we'll be using for data preprocessing include pandas, numpy, matplotlib, and seaborn. All of which can be installed
                        following these <a href="https://docs.python.org/3/installing/index.html"><u>guidelines</u></a>.
                    </li>
                </ul>
                </div>


                <!-- Structuring Data -->
                <div id="Structuring-Data">
                <h1 class="post_title"> Structuring Data </h1>
                <p class="lesson-text">    The first thing we have to do is load our data into our Jupyter Notebook. To open up your Jupyter Notebook, 
                    simply open up terminal and type <code>jupyter notebook</code>. A full guide on the interface can be found 
                    <a href="https://jupyter-notebook.readthedocs.io/en/latest/notebook.html"><u>here</u></a>.
                    Let's first import pandas into our notebook. We'll reference it as "pd" for simplicity.
                    <br><br>
                    <pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background-color: rgb(244, 244, 244); color: rgb(0, 0, 0);"><span class="hljs-keyword" style="font-weight: 700; color: navy;">import</span> pandas <span class="hljs-keyword" style="font-weight: 700; color: navy;">as</span> pd</pre>
                </p>
                <p class="lesson-text"> Pandas is a powerful tool used for manipulating data providing functioanlities to make working with out data easier. The Excel file referenced in this part of the tutorial can be downloaded 
                    <a href="https://jupyter-notebook.readthedocs.io/en/latest/notebook.html"><u>here (I need to actually put the download link in).</u></a>. The first powerful tool in pandas we'll make use of is a dataframe.
                    You can think of a dataframe like a spreadsheet or data table. It's a data structure representing a two-dimensional table. Let's read in our data from Excel into a dataframe object and look at the first few rows of our data.
                    <br><br>
                    <pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background-color: rgb(244, 244, 244); color: rgb(0, 0, 0);"><span class="hljs-attribute" style="color: rgb(0, 85, 0);">stock_data</span> = pd.read_csv(<span class="hljs-string" style="color: rgb(0, 85, 0);">'Sample_Stocks.csv'</span>) <span class="hljs-comment" style="color: rgb(136, 0, 0);"></span>
stock_data.head()   </pre>
                    <br>
                    <img  src="images/headfunction.png" alt="Head Output" />
                </p>
                <p class="lesson-text"> 
                    
                    The <code>head(n)</code> function displays the first few rows of our table. You can specify the last few rows using tail(). Placing a integer parameter (<code>head(n) or tail(n)</code>) displays the first or last <code>n</code> rows. We can get summary statistics of our data as well through the <code>describe()</code> function. 
                    <br><br>
                    <pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background-color: rgb(244, 244, 244); color: rgb(0, 0, 0);">stock_data[<span class="hljs-string" style="color: rgb(0, 85, 0);">'HINDEX'</span>].describe() <span class="hljs-comment" style="color: rgb(136, 0, 0);"># Describes the HINDEX attribute</span>
stock_data.groupby(<span class="hljs-keyword" style="font-weight: 700; color: navy;">by</span>=<span class="hljs-string" style="color: rgb(0, 85, 0);">'Stock'</span>).describe() <span class="hljs-comment" style="color: rgb(136, 0, 0);"># Describes all attributes grouped by 'Stock'</span>
stock_data.groupby(<span class="hljs-keyword" style="font-weight: 700; color: navy;">by</span>=<span class="hljs-string" style="color: rgb(0, 85, 0);">'Stock'</span>)[<span class="hljs-string" style="color: rgb(0, 85, 0);">'Volume'</span>].describe() <span class="hljs-comment" style="color: rgb(136, 0, 0);"># Output shown below</span></pre>    
                    <br>
                    <img  src="images/volumedescribe.png" alt="Volume describe() Output" />        
                </p>
                <p class="lesson-text"> 
                    After looking through the columns, you may realize "HINDEX" is relatively useless as its always zero. We can delete 
                    this column using: 
                    <br><br><pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background-color: rgb(244, 244, 244); color: rgb(0, 0, 0);">stock_data.drop(columns = [<span class="hljs-string" style="color: rgb(0, 85, 0);">'HINDEX'</span>])</pre> 
                </p>
                <p class="lesson-text"> 
                    Using SQL, we were able to query a database in order to retrieve specific information. Thankfully, pandas provides a similar functionality. Let's
                    say we were interested in finding all the entries of stock A with a price of over $46.00. We can do this by using conditionals within
                    the pandas <code>loc</code> function. Let's try this out. 
                        <br><br><pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background-color: rgb(244, 244, 244); color: rgb(0, 0, 0);">stock_data.loc[(stock_data[<span class="hljs-string" style="color: rgb(0, 85, 0);">'Stock'</span>]==<span class="hljs-string" style="color: rgb(0, 85, 0);">'A'</span>) &amp; (stock_data[<span class="hljs-string" style="color: rgb(0, 85, 0);">'Price'</span>]&gt;<span class="hljs-number" style="color: rgb(136, 0, 0);">46</span>)]</pre>
                        
                </p>
                <p class="lesson-text"> 
                    When we run this, we get an error message saying <code>TypeError: '>' not supported between instances of 'str' and 'int'</code>
                    What this message is telling us is we're trying to compare a string type variable to an integer. We'll have to 
                    convert the 'Price' column into floating point numbers before running our query. We can make use of the <code>replace()</code> and <code>astype()</code> functions.<br><br><pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background-color: rgb(244, 244, 244); color: rgb(0, 0, 0);">stock_data[<span class="hljs-string" style="color: rgb(0, 85, 0);">'Price'</span>] = stock_data[<span class="hljs-string" style="color: rgb(0, 85, 0);">'Price'</span>].replace(<span class="hljs-string" style="color: rgb(0, 85, 0);">'[\$,]'</span>, <span class="hljs-string" style="color: rgb(0, 85, 0);">''</span>, regex=<span class="hljs-symbol" style="color: rgb(0, 85, 0);">True</span>).astype(float)
stock_data.loc[(stock_data[<span class="hljs-string" style="color: rgb(0, 85, 0);">'Stock'</span>]==<span class="hljs-string" style="color: rgb(0, 85, 0);">'A'</span>) &amp; (stock_data[<span class="hljs-string" style="color: rgb(0, 85, 0);">'Price'</span>]&gt;<span class="hljs-number" style="color: rgb(136, 0, 0);">46</span>)]</pre>      
                <br>
                <img  src="images/pandasquery.png" alt="Query Result" />
                </p>
                <p class="lesson-text"> 
                        So far, we've looked into the very basics of pandas. We'll continue to make use of this library
                        in future lessons which is why I highly recommend getting more comfortable with the pandas library and its
                        various functionalities. This will make understanding future lessons much easier.
                        Feel free to utilize the references provided in the <a href="#1Resources"><u>Useful Resources</u></a> section.
                    </p>

                </div>
               

                <div id="Missing">
                        <h1 class="post_title"> Missing Data </h1>
                        <p class="lesson-text">    Part of cleaning your data is dealing with missing values. One way to detect if your dataset has missing values
                            is to use the <code>.info()</code> function. Using the dataset from the <a href="#Structuring-Data"><u>previous lesson</u></a>,  <code>stock_data.info()</code> outputs the following:
                            <br><br>
                            <img  src="images/nulldetection.png" alt="info() output" />
                            <br><br>
                            <a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.dropna.html"><u><strong><code>dropna()</code></strong></u></a><br>
                            We can see our dataset only has 35 non-null price values and 37 non-null volume values out of 40 total values.
                            One way to deal with missing values is to delete the rows that have at least one value missing. Using pandas,
                            this can be done through the <code>dropna()</code> function, which will return a dataframe with all rows containing
                            missing values deleted. <br>
                            <br>
                            <a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.fillna.html"><u><strong><code>fillna()</code></strong></u></a><br>
                            However, deleted entries may not always be the best option, especially when 
                            the entry has other important information we might want to keep. This leads us to our first method of handling
                            missing data using the <code>fillna()</code> function. The <code>fillna()</code> function
                            allows us to quickly find all NaN values and replace them using a specified method. You can learn more about 
                            <code>fillna()</code> <a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.fillna.html"><u>here</u></a>.
                            One way to use <code>fillna()</code> is with the parameter <code>method = 'ffill' </code>. This parameter
                            propogates all non-null values forward, replacing each null value with the previous non-null value.
                            Similarly <code>method = 'bfil'</code> does the opposite. <br><br>
                            <pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background-color: rgb(244, 244, 244); color: rgb(0, 0, 0);">stock_data.drop(columns = [<span class="hljs-string" style="color: rgb(0, 85, 0);">'HINDEX'</span>], inplace = <span class="hljs-keyword" style="font-weight: 700; color: navy;">True</span>)
stock_data</pre>
                            <br>
                            <img  src="images/fillna2.png" alt="FFill" />
                            </p>
                            <p class="lesson-text"> Previously the values for 'Price' and 'Volume' for the entry at index 12
                                were both NaN. After using the <code>ffill</code> method of <code>fillna()</code> the values for 'Price'
                                and 'Volume' were replaced with the 'Price' and 'Volume' values for the entry at index 11. A snippet showing this change is
                                shown above. The inplace parameter in the above function call signifies that the outputted dataframe
                                should replace our current dataframe.
                                <br>
                                <br>
                                <a href="https://pandas.pydata.org/pandas-docs/version/0.16/generated/pandas.DataFrame.interpolate.html"><u><strong><code>interpolate()</code></strong></u></a><br>
                                Another way to fill missing values, especially useful for time-series data, is the interpolate method. Interpolating data
                                is very helpful and there are many ways to do it. One way of the simplest ways that does not involve the fitting
                                of a complex model to our data is using the <code>interpolate()</code> function. It defaults to a linear method
                                which replaces all missing values with the <i>linear average</i> of the non-null values surrounding it. It can be called on
                                an entire dataframe object like shown below, however, is often useful for individual serieses as well (like our 'Price' column alone). Read more about that
                                <a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.interpolate.html"><u>here</u></a>.
                                <br><br>
                                <pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background-color: rgb(244, 244, 244); color: rgb(0, 0, 0);">stock_data.interpolate(<span class="hljs-function"><span class="hljs-keyword" style="font-weight: 700; color: navy;">method</span>='<span class="hljs-title" style="font-weight: 700; color: navy;">linear</span>', <span class="hljs-title" style="font-weight: 700; color: navy;">inplace</span>=<span class="hljs-title" style="font-weight: 700; color: navy;">True</span>) </span></pre>
                                <br>
                                <img  src="images/interpolate.png" alt="interpolate()" />

                </div>

                <div id="1Resources">
                    <h1 class="post_title"> Useful Resources </h1>
                    <p class="lesson-text">    So far, we've looked into the basics of manipulating our data with the pandas library. The following links and guidelines
                        are extremely useful and I highly recommend looking into them to get a better idea of what we've learned:</p>
                
                <ul class = "bullets">
                    <li>  The full pandas documentation that outlines the various functions and required parameters
                        within the pandas library can be found <a href="https://pandas.pydata.org/pandas-docs/stable/"><u>here</u></a>.</li>

                    <li>  Another important library to look into is the numpy library (we'll start using this soon), which makes working with arrays
                        much faster and easier. See documentation  
                        <a href="https://docs.scipy.org/doc/numpy/user/basics.html"><u>here</u></a>.</li>
  
                    <li>  Here's a useful "cheatsheet" I used to use that goes over commonly used pandas functionalities.  
                        <a href="https://pandas.pydata.org/pandas-docs/stable/getting_started/10min.html"><u>Cheatsheet</u></a>.
                    </li>
                </ul>
                </div>
                



                    </p>
                    <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
            </div>
















































            <footer>
                <div class="footer content-1170 center-relative">
                    <ul>
                        <li class="copyright-footer">
                            Â© 2018 All rights reserved. | Boxus Template by <a href="httpss://colorlib.com" target="_blank">Colorlib</a>
                        </li>
                    </ul>
                </div>
            </footer>
   
    
            <!--Load JavaScript-->
            <script type="text/javascript" src="js/jquery.js"></script>
            <script type='text/javascript' src='js/jquery.sticky-kit.min.js'></script>
            <script type='text/javascript' src='js/jquery.smartmenus.min.js'></script>
            <script type='text/javascript' src='js/jquery.sticky.js'></script>
            <script type='text/javascript' src='js/jquery.dryMenu.js'></script>
            <script type='text/javascript' src='js/isotope.pkgd.js'></script>
            <script type='text/javascript' src='js/jquery.carouFredSel-6.2.0-packed.js'></script>
            <script type='text/javascript' src='js/jquery.mousewheel.min.js'></script>
            <script type='text/javascript' src='js/jquery.touchSwipe.min.js'></script>
            <script type='text/javascript' src='js/jquery.easing.1.3.js'></script>
            <script type='text/javascript' src='js/imagesloaded.pkgd.js'></script>
            <script type='text/javascript' src='js/jquery.prettyPhoto.js'></script>
            <script type='text/javascript' src='js/main.js'></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.5.0/prism.min.js"></script>
            
        </body>
</html>